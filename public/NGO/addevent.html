<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png" />
    <link rel="icon" type="image/png" href="../assets/img/favicon.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Material Dashboard by Creative Tim</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
    <!-- Bootstrap core CSS     -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
    <!--  Material Dashboard CSS    -->
    <link href="../assets/css/material-dashboard.css?v=1.2.0" rel="stylesheet" />
    <!--  CSS for Demo Purpose, don't include it in your project     
    <link href="../assets/css/demo.css" rel="stylesheet" /> -->
    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300|Material+Icons' rel='stylesheet' type='text/css'>

    <style>
        /*!
 * Datepicker for Bootstrap
 *
 * Copyright 2012 Stefan Petre
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 */
/*
 *
 *   SCSS by Creative Tim
 *   http://www.creative-tim.com
 *
 */
.datepicker {
  top: 0;
  left: 0;
  padding: 4px;
  margin-top: 1px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
}
.datepicker > div {
  display: none;
}
.datepicker table {
  width: 100%;
  margin: 0;
}
.datepicker td,
.datepicker th {
  text-align: center;
  width: 20px;
  height: 20px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
}
.datepicker td {
  text-align: center;
}
.datepicker td p {
  font-size: 1em;
  font-weight: 400;
  border-radius: 50%;
  height: 29px;
  line-height: 29px;
  margin: 3px 0 8px;
  width: 29px;
}
.datepicker td :hover {
  cursor: pointer;
}
.datepicker th {
  font-weight: 500;
}
.datepicker th.switch-datepicker {
  font-size: 1em;
}
.datepicker .prev p,
.datepicker .next p {
  font-size: 1.825em;
}
.datepicker p:hover {
  background: #eeeeee;
}
.datepicker .day.disabled {
  color: #eeeeee;
}
.datepicker td.old,
.datepicker td.new {
  color: #999999;
  border-top: 0;
}
.datepicker td.active p,
.datepicker td.active:hover p {
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  color: #ffffff;
  background-color: #9c27b0;
}
.datepicker td.primary p,
.datepicker td.primary:hover p {
  background-color: #9c27b0;
}
.datepicker td.info p,
.datepicker td.info:hover p {
  background-color: #03a9f4;
}
.datepicker td.success p,
.datepicker td.success:hover p {
  background-color: #4caf50;
}
.datepicker td.warning p,
.datepicker td.warning:hover p {
  background-color: #fbc02d;
}
.datepicker td.danger p,
.datepicker td.danger:hover p {
  background-color: #f44336;
}
.datepicker span {
  display: block;
  width: 55px;
  height: 54px;
  line-height: 54px;
  float: left;
  margin: 2px;
  cursor: pointer;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  border-radius: 4px;
}
.datepicker span.old {
  color: #999999;
}
.datepicker span.active, .datepicker span.active:focus, .datepicker span.active:hover, .datepicker span.active:active {
  background-color: #9c27b0;
  box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}
.datepicker span.active {
  color: #FFFFFF;
}
.datepicker span:hover {
  background-color: #EEEEEE;
}
.datepicker span.primary,
.datepicker span.primary:hover {
  background-color: #9c27b0;
}
.datepicker span.info,
.datepicker span.info:hover {
  background-color: #03a9f4;
}
.datepicker span.success,
.datepicker span.success:hover {
  background-color: #4caf50;
}
.datepicker span.warning,
.datepicker span.warning:hover {
  background-color: #fbc02d;
}
.datepicker span.danger,
.datepicker span.danger:hover {
  background-color: #f44336;
}
.datepicker th.switch-datepicker {
  width: 145px;
}
.datepicker th.next,
.datepicker th.prev {
  font-size: 21px;
}
.datepicker thead tr:first-child th {
  cursor: pointer;
}
.datepicker thead tr:first-child th:hover {
  background: #eeeeee;
}
.datepicker.dropdown-menu {
  border-radius: 3px;
  box-shadow: 0 16px 38px -12px rgba(0, 0, 0, 0.56), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
  -webkit-transition: all 150ms linear;
  -moz-transition: all 150ms linear;
  -o-transition: all 150ms linear;
  -ms-transition: all 150ms linear;
  transition: all 150ms linear;
  margin-top: -20px;
  opacity: 0;
  visibility: hidden;
}
.datepicker.dropdown-menu.open {
  opacity: 1;
  visibility: visible;
  margin-top: 1px;
}
.datepicker .table-condensed > tbody > tr > td {
  padding: 2px;
}
.datepicker .table-condensed > thead > tr > th {
  padding: 0;
}

.input-append.date .add-on i,
.input-prepend.date .add-on i {
  display: block;
  cursor: pointer;
  width: 16px;
  height: 16px;
}

.datepicker-months thead {
  padding: 0 0 3px;
  display: block;
}


    </style>
<script src="../assets/js/jquery.min.js"> </script>
<script> 
$(function(){
  $("#sidebarclass").load("sidebar.html"); 
  $("#headerclass").load("header.html"); 
  $("#footerclass").load("footer.html"); 
  
});
</script> 

<script type="text/javascript">
function allLetter(txteventname)
{
	var letters=/^[A-Za-z]+$/;
	if(txteventname.value.match(letters))
	{
		return true;
	}
	else
	{		
		txteventname.value="";
		txteventname.focus();
		alert('Event Name must have Alphabetic characters only');
		return false;
	}
}
</script>

<script type="text/javascript">
	$(document).ready(function(){
	$("#test20").keyup(function() {
	    var val = $("#test20").val();
	    if (parseInt(val) < 0 || isNaN(val)) {
	        alert("Please Enter Only Numeric Values in Days");
	        $("#test20").val("");
	        $("#test20").focus();
	    }
		});
	});
</script>
<script type="text/javascript">
	$(document).ready(function(){
	$("#test21").keyup(function() {
	    var val = $("#test21").val();
	    if (parseInt(val) < 0 || isNaN(val)) {
	        alert("Please Enter Only Numeric Values in Volunteer Size");
	        $("#test21").val("");
	        $("#test21").focus();
	    }
		});
	});
</script>


</head>

<body>
    <div class="wrapper">
        <div id="sidebarclass">
		
		</div>
        <div class="main-panel">
            <div id="headerclass">
			
			</div>
            <div class="content" style="margin-top:30px;">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header" data-background-color="purple">
                                    <h3 class="title">Add Event</h3>                                    
                                </div>
                                <div class="card-content">
                                    <form action="addevent.html" method="POST">
                                        <div class="row">
                                            <div class="col-md-5">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Event Name</label>
                                                    <input type="text" name="name" onblur="return allLetter(txteventname);" class="form-control" required/>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Date</label>
                                                    <input class="datepicker form-control" name="date" type="text"  value="03/23/2018" required/>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Total Days</label>
                                                    <input id="test20" type="text" name="totalDays" class="form-control" required/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Event Type</label>
                                                    <select class="form-control" name="drpeventtype" style="float:left;" required>                                                        
                                                        <option value="donation">Donation Event</option>
                                                        <option value="social">Social Event</option>													
                                                        </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Volunteer Size</label>
                                                    <input type="text" id="test21" class="form-control" name="volunteerSize" required/>
                                                </div>
                                            </div>                                                                                        
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="label-floating">
                                                    <label class="control-label">Photo</label>
                                                    <input type="file" 
                                                    id="inputFileToLoad" 
                                                    onchange="encodeImageFileAsURL();"
                                                    name="photos" required/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">   
                                            <div class="col-md-12">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Street</label>
                                                    <input type="text" name="street" class="form-control" required/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">City</label>
                                                    <select class="form-control" name="drpcity" style="float:left;" required>
                                                        <option value="Ahmedabad">Ahmedabad</option>											
                                                        <option value="Surat">Surat</option>
                                                    </select>										
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">State</label>
                                                    <select class="form-control" name="drpstate" style="float:left;" required>
                                                            <option value="Gujarat">Gujarat</option>											
                                                            <option value="Maharashtra">Maharashtra</option>
                                                        </select>										
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group label-floating">
                                                    <label class="control-label">Country</label>
                                                    <select class="form-control" name="drpcountry" style="float:left;" required>
                                                            <option value="India">India</option>											
                                                            <option value="India">India</option>
                                                        </select>										
                                                </div>
                                            </div>
                                        </div> 
										<center>
                                        <button id="btnCreate" class="btn btn-primary pull-right">Add</button></center>
                                        <div class="clearfix"></div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
            <div id="footerclass">
			
			</div>
        </div>
    </div>
</body>
<!--   Core JS Files   -->
<script src="../assets/js/jquery-3.2.1.min.js" type="text/javascript"></script>
<script src="../assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/js/material.min.js" type="text/javascript"></script>
<!--  Charts Plugin -->
<script src="../assets/js/chartist.min.js"></script>
<!--  Dynamic Elements plugin -->
<script src="../assets/js/arrive.min.js"></script>
<!--  PerfectScrollbar Library -->
<script src="../assets/js/perfect-scrollbar.jquery.min.js"></script>
<!--  Notifications Plugin    -->
<script src="../assets/js/bootstrap-notify.js"></script>
<!--  Google Maps Plugin    -->
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
<!-- Material Dashboard javascript methods -->
<script src="../assets/js/material-dashboard.js?v=1.2.0"></script>
<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<script src="../assets/js/demo.js"></script>


<script src="../assets/js/bootstrap-datepicker.js" type="text/javascript"></script>
<script src="../assets/js/material-kit.js" type="text/javascript"></script>

<script src="../assets/js/bootstrap-datepicker.js" type="text/javascript"></script>
<script src="../assets/js/material-kit.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js" type="text/javascript"></script>

<script>
  var photoUrl = "";
  function encodeImageFileAsURL() {

    var filesSelected = document.getElementById("inputFileToLoad").files;
    if (filesSelected.length > 0) {
      var fileToLoad = filesSelected[0];

      var fileReader = new FileReader();

      fileReader.onload = function(fileLoadedEvent) {
        var srcData = fileLoadedEvent.target.result; // <--- data: base64
        photoUrl = srcData;
      }
      fileReader.readAsDataURL(fileToLoad);
    }
  }
	function validate(eventData)
	{
		
		if(eventData.name=="")
		{
			alert("Event Name is not found");
			return false;
		}
		if(eventData.totalDays=="")
		{
			alert("Event Total Days is not found");
			return false;
		}
		if(eventData.volunteerSize=="")
		{
			alert("Volunteer Size is not found");
			return false;
		}
		if(eventData.date=="")
		{
			alert("Event Date is not found");
			return false;
		}
		if(eventData.venue.street=="")
		{
			alert("Event Street is not found");
			return false;
		}
		
		return true;
	}
  $().ready(function(){
      var ngoId = "5ab7a12117f80f169302a9bc";
      $("#btnCreate").click(function(event){
        event.preventDefault();
        console.log('btnsubmit');
        var eventData ={
            name: $("input[name=name]").val(),
            totalDays: $("input[name=totalDays]").val(),
            volunteerSize: $("input[name=volunteerSize]").val(),
            date: $("input[name=date]").val(),
            type: $('select[name=drpeventtype]').val(),
            venue: {
              street: $("input[name=street]").val(),
              city: $('select[name=drpcity]').val(),
              state: $('select[name=drpstate]').val(),
              country:$('select[name=drpcountry]').val()
            },
            photos: [
              {image: photoUrl}
            ],
            ngoId: ngoId

        }
        console.log(eventData);
		if (validate(eventData)==false)
			return;

        axios.post('/api/events/create', eventData)
             .then(function (resp) {
                alert('event added');
                console.log(resp)
             })
             .catch(function (error) {
                console.log(error.data);
             }
        );

      });      
  });
  

</script>

</html>