<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png">
	<link rel="icon" type="image/png" href="assets/img/favicon.png">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Material Kit by Creative Tim</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

	<!--     Fonts and icons     -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />

	<!-- CSS Files -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/css/material-kit.css" rel="stylesheet"/>

	<!-- CSS Just for demo purpose, don't include it in your project -->
	<link href="assets/css/demo.css" rel="stylesheet" />
	<script src="assets/js/jquery.min.js"> </script>
<script> 
$(function(){
  $("#headerclass").load("header.html"); 
  $("#footerclass").load("footer.html");
});
</script>  
<script type="text/javascript">
	$(document).ready(function(){
	$("#test").keyup(function() {
	    var val = $("#test").val();
	    if (parseInt(val) < 0 || isNaN(val)) {
	        alert("Please Enter Only Numeric Values in Volunteer Id");
	        $("#test").val("");
	        $("#test").focus();
	    }
		});
	});
</script>
</head>

<body class="index-page">
<!-- Navbar -->


<!-- End Navbar -->
<div id="headerclass">

</div>
<div class="wrapper">
	<div class="header header-filter" style="background-image: url('assets/img/bg2.jpeg'); height:400px;">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2">
					<div class="brand">
						<h1>Certificate Verification </h1>						
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="main main-raised">
	    <div class="section" id="javascriptComponents">
	        <div class="container">	        
	            <div class="row" id="modals">
					<div class="col-md-2">
					</div>
	                <div class="col-md-8">
						<div class="content">
							<div class="input-group">
							<span class="input-group-addon">
							<b>Volunteer Id : </b>
							</span>
							<form action="verifycertificate.html" method="get">					
							<input id="volunteerId" type="text" class="form-control" value="23as3d34" placeholder="Volunteer Id" required/>
							<div id = "verify-error"> </div>
							</form>
							</div>
						</div>	                 
						<center>
						
						<!-- <button type="submit" name="send" class="btn btn-primary" data-toggle="modal" data-target="#myModal" value="Verify">Verify</button> -->
						<button type="submit" name="send" class="btn btn-primary" id="btnsubmit" value="0">Verify</button>
						
						</center>
					
					</div>	
					<div class="col-md-2">
					</div>
				</div>
			</div>
		</div>
	</div>

	</div>
    <div id="footerclass">
	</div>
</div>

<!-- Sart Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<p>Invalid Certificate Id</p>
</div>
<script id="myModelTemplate" type="text/x-handlebars-template">​
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					<i class="material-icons">clear</i>
				</button>
				<h4 class="modal-title"><b>Certificate Provided</b></h4>
			</div>
			<div class="modal-body">
				<div><label><b style="color:black;"> Name : </b></label> {{volunteerName}}</div>
				<div><label><b style="color:black;"> NGO Name : </b></label> {{ngoName}}</div>
				<div><label><b style="color:black;"> Service : </b></label> {{service}}</div>
				<div><label><b style="color:black;"> Date : </b></label> {{date}}</div>		
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-simple" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
​</script>
<div class="modal fade" id="myModalError" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					<i class="material-icons">clear</i>
				</button>
				<h4 class="modal-title"><b>Certificate Provided</b></h4>
			</div>
			<div class="modal-body">
				<div><label><b style="color:black;">
					Invlaid Certificate Id
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger btn-simple" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

<!--  End Modal -->


</body>
	<!--   Core JS Files   -->
	<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="assets/js/material.min.js"></script>
	<script src="assets/js/handlebars-v4.0.11.js"></script>
	<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
	<script src="assets/js/nouislider.min.js" type="text/javascript"></script>

	<!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
	<script src="assets/js/bootstrap-datepicker.js" type="text/javascript"></script>

	<!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
	<script src="assets/js/material-kit.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js" type="text/javascript"></script>
    
	<script type="text/javascript">

		$().ready(function(){
			// the body of this function is in assets/material-kit.js
			materialKit.initSliders();
            window_width = $(window).width();

            if (window_width >= 992){
                big_image = $('.wrapper > .header');

				$(window).on('scroll', materialKitDemo.checkScrollForParallax);
			}

		});
		$('#btnsubmit').on('click',function(){
			var id = document.getElementById('volunteerId').value;
			console.log(id);
			$.ajax({
				url: '/api/certificates/'+id,
				type: 'GET',
				success: function(data){
					var source   = document.getElementById('myModelTemplate').innerHTML;
					var template = Handlebars.compile(source);
					$("#myModal").html(template(data));
					$("#myModal").modal();
					console.log(data);
				},
				error: function(data) {
					$("#myModalError").modal();
					console.log('Error : ' + data);
				}
			});
			
		});
	</script>
</html>